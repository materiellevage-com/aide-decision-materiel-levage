<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aide au choix — Arbre de décision Levage | MATERIEL-LEVAGE</title>
  <meta name="description" content="Aide au choix levage : arbre de décision (moins de 10 questions) pour qualifier un besoin utilisateur et orienter vers supports, appareils et accessoires avec recommandations sécurité, installation et maintenance." />

  <style>
    /* ==============================
       CHARTE (à aligner sur ton catalogue)
       - Accessoires = ROUGE (impératif)
       ============================== */
    :root{
      /* Identité globale (proche Matériel-Levage) */
      --ml-blue:#243c8f;      /* bleu “header” / éléments */
      --ml-blue-dark:#1b2d6d; /* bleu foncé */
      --ml-yellow:#f2b705;    /* jaune accent */
      --ml-red:#b10f1b;       /* rouge catégories */
      --ml-red-dark:#8d0b14;

      /* Couleurs catégories (à ajuster selon ton PDF catalogue) */
      --cat-accessory: var(--ml-red);     /* ACCESSOIRES = ROUGE */
      --cat-device:    var(--ml-blue);    /* APPAREILS (proposé) */
      --cat-support:   var(--ml-yellow);  /* SUPPORTS (proposé) */

      /* UI neutres */
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#162033;
      --muted:#667085;
      --line:#e6e8ef;
      --shadow: 0 10px 30px rgba(16,24,40,.10);
      --radius:16px;
      --radius-sm:12px;

      /* États */
      --good:#12b76a;
      --warn:#f79009;
      --bad:#f04438;

      --font: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--font);
      background:var(--bg);
      color:var(--text);
    }
    a{color:inherit}
    .wrap{max-width:1180px;margin:0 auto;padding:16px}

    /* Top bar (style site) */
    .topbar{
      background: linear-gradient(90deg, var(--ml-red), var(--ml-red-dark));
      color:#fff;
      border-radius: 0 0 18px 18px;
      box-shadow: var(--shadow);
    }
    .topbar-inner{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:16px 16px;
      max-width:1180px;margin:0 auto;
    }
    .brand{
      display:flex;align-items:center;gap:10px;
      font-weight:800;letter-spacing:.2px;
    }
    .brand-badge{
      width:34px;height:34px;border-radius:10px;
      background: rgba(255,255,255,.18);
      display:grid;place-items:center;
      border:1px solid rgba(255,255,255,.30);
      font-weight:900;
    }
    .brand small{
      display:block;font-weight:600;opacity:.9;letter-spacing:.2px
    }
    .top-actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;border-radius:999px;
      background: rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.30);
      font-size:12px;
      white-space:nowrap;
    }

    /* Layout */
    .grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:16px;
      margin-top:14px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
    }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .hd{
      padding:14px 14px;
      border-bottom:1px solid var(--line);
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      background: #fff;
    }
    .card .bd{padding:14px}
    .title{
      margin:0;
      font-size:16px;
      font-weight:800;
      color: var(--ml-blue-dark);
    }
    .subtitle{
      margin:6px 0 0;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }

    /* Buttons */
    .btn{
      appearance:none;
      border:1px solid var(--line);
      background:#fff;
      color:var(--text);
      border-radius: 12px;
      padding:10px 12px;
      font-size:13px;
      cursor:pointer;
      transition:.15s transform, .15s background, .15s border-color;
      font-weight:700;
    }
    .btn:hover{background:#fafbff}
    .btn:active{transform: translateY(1px)}
    .btn:disabled{opacity:.55;cursor:not-allowed}

    .btn.primary{
      border-color: rgba(177,15,27,.35);
      background: linear-gradient(180deg, rgba(177,15,27,.10), rgba(177,15,27,.05));
      color: var(--ml-red-dark);
    }
    .btn.primary:hover{
      border-color: rgba(177,15,27,.55);
      background: linear-gradient(180deg, rgba(177,15,27,.14), rgba(177,15,27,.07));
    }

    .btn.blue{
      border-color: rgba(36,60,143,.25);
      background: rgba(36,60,143,.06);
      color: var(--ml-blue-dark);
    }
    .btn.blue:hover{background: rgba(36,60,143,.09)}

    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .right{justify-content:flex-end}

    .divider{height:1px;background:var(--line);margin:12px 0}

    /* Question blocks */
    .section{
      border:1px solid var(--line);
      border-radius: var(--radius);
      padding:12px;
      margin-bottom:12px;
      background:#fff;
    }
    .qhead{
      display:flex;align-items:flex-start;justify-content:space-between;gap:10px;
      margin-bottom:10px;
    }
    .qhead h2{
      margin:0;
      font-size:14px;
      font-weight:900;
      color:#0f1d3a;
      line-height:1.35;
    }
    .qhead .hint{
      margin-top:4px;
      font-size:12px;
      color:var(--muted);
      line-height:1.4;
    }

    .opts{display:grid;gap:10px}
    .opt{
      display:flex;gap:10px;align-items:flex-start;
      padding:12px;
      border-radius: 14px;
      border:1px solid var(--line);
      background:#fff;
    }
    .opt:hover{border-color:#d9dcec;background:#fcfdff}
    .opt input{margin-top:2px;transform: scale(1.1)}
    .opt label{cursor:pointer;flex:1}
    .opt b{display:block;font-size:14px;color:#111b2e}
    .opt .small{display:block;color:var(--muted);font-size:12px;margin-top:2px;line-height:1.35}
    .meta{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}

    /* Chips (catégories) */
    .chip{
      display:inline-flex;align-items:center;
      padding:5px 9px;border-radius:999px;
      font-size:12px;
      border:1px solid var(--line);
      background:#f7f8fc;
      color:#334155;
      font-weight:800;
    }
    .chip.support{border-color: rgba(242,183,5,.35); background: rgba(242,183,5,.10); color:#7a5600}
    .chip.device{border-color: rgba(36,60,143,.25); background: rgba(36,60,143,.08); color: var(--ml-blue-dark)}
    .chip.accessory{border-color: rgba(177,15,27,.30); background: rgba(177,15,27,.08); color: var(--ml-red-dark)}
    .chip.risk{border-color: rgba(247,144,9,.35); background: rgba(247,144,9,.10); color:#8a4b00}

    /* Tooltip “i” */
    .tip{
      position:relative;
      width:28px;height:28px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      display:grid;place-items:center;
      cursor:help;
      color: var(--ml-blue-dark);
      font-weight:900;
      flex:0 0 auto;
    }
    .tip:focus{outline:3px solid rgba(36,60,143,.20); outline-offset:2px}
    .bubble{
      position:absolute;
      right:0;
      top: calc(100% + 10px);
      width: min(420px, calc(100vw - 40px));
      background:#fff;
      border:1px solid var(--line);
      border-radius: 14px;
      box-shadow: var(--shadow);
      padding:12px;
      display:none;
      z-index:50;
    }
    .tip:hover .bubble,
    .tip:focus .bubble{display:block}
    .bubble .btitle{margin:0 0 6px;font-size:12px;font-weight:900;color:#0f1d3a}
    .bubble .btxt{margin:0;color:var(--muted);font-size:12px;line-height:1.45}
    .bubble .bchips{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}

    /* Right panel: status */
    .status{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;border-radius:999px;
      font-size:12px;font-weight:900;
      border:1px solid var(--line);
      background:#fff;
      color:#111b2e;
      white-space:nowrap;
    }
    .dot{width:10px;height:10px;border-radius:50%}
    .dot.good{background:var(--good)}
    .dot.warn{background:var(--warn)}
    .dot.bad{background:var(--bad)}

    .kpis{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width:520px){.kpis{grid-template-columns:1fr}}
    .kpi{
      border:1px solid var(--line);
      border-radius: 14px;
      padding:12px;
      background:#fff;
    }
    .kpi .t{font-size:12px;color:var(--muted);font-weight:800}
    .kpi .v{margin-top:6px;font-size:14px;font-weight:900;color:#0f1d3a;line-height:1.35}

    .families{display:grid;gap:10px;margin-top:10px}
    .family{
      border:1px solid var(--line);
      border-radius: 14px;
      padding:12px;
      background:#fff;
    }
    .family h3{margin:0 0 6px;font-size:13px;font-weight:900;color:#0f1d3a}
    .family p{margin:0;color:var(--muted);font-size:12px;line-height:1.45}

    table{width:100%;border-collapse:collapse}
    th,td{padding:10px;border-bottom:1px solid var(--line);vertical-align:top}
    th{font-size:12px;color:var(--muted);text-align:left}
    td{font-size:13px}

    .list{margin:0;padding-left:18px;color:var(--muted);font-size:12px;line-height:1.5}
    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size:12px;
      color:#1f2a44;
      white-space:pre-wrap;
      background:#fbfbfe;
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
    }
    .mini{color:var(--muted);font-size:12px;margin-top:6px;line-height:1.4}

    /* Wizard sticky bar (IMPÉRATIF mobile) */
    #wizardBar{
      position: sticky;
      bottom: 10px;
      z-index: 30;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      padding:10px;
      border-radius: 16px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.92);
      backdrop-filter: blur(8px);
      box-shadow: 0 8px 26px rgba(16,24,40,.12);
    }

    /* Clarté (badge) */
    .clarity{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      font-size:12px;font-weight:900;
      color:#0f1d3a;
      white-space:nowrap;
    }

    /* Helper visibility */
    .hidden{display:none !important;}
  </style>
</head>

<body>

  <!-- Header -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="brand-badge">ML</div>
        <div>
          Aide au choix — <b>Levage</b>
          <small>Arbre de décision (Q1 → Q5) • version 2026-01-01</small>
        </div>
      </div>
      <div class="top-actions">
        <span class="pill" id="progressPill">0 / 5</span>
        <span class="pill" id="clarityPill">Clarté : 100%</span>
        <button class="btn" id="btnReset" type="button">Réinitialiser</button>
        <button class="btn blue" id="btnDemo" type="button">Préremplir démo</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="grid">

      <!-- LEFT: Questions -->
      <div class="card">
        <div class="hd">
          <div>
            <p class="title">Parcours guidé</p>
            <p class="subtitle">
              Répondez avec vos mots (usage / geste / charge). L’outil oriente vers les grandes familles :
              <b>supports</b>, <b>appareils</b>, <b>accessoires</b>.
            </p>
          </div>
          <span class="status" id="statusBadge">
            <span class="dot warn" id="statusDot"></span>
            <span id="statusTxt">À compléter</span>
          </span>
        </div>

        <div class="bd">

          <!-- Q1 -->
          <div class="section" id="secQ1">
            <div class="qhead">
              <div>
                <h2>Q1 — Qu’avez-vous besoin de faire avec la charge ? <span class="mini">(plusieurs réponses possibles)</span></h2>
                <div class="hint">On décrit l’action, pas le produit.</div>
              </div>
              <div class="tip" tabindex="0">i
                <div class="bubble">
                  <p class="btitle">Aide — Q1</p>
                  <p class="btxt">
                    Cochez ce que vous faites réellement :
                    <b>lever</b> (vertical), <b>déplacer</b> (latéral/vers un autre poste),
                    <b>accrocher</b> (prendre la charge), <b>supporter</b> (structure pour porter l’appareil).
                  </p>
                  <div class="bchips">
                    <span class="chip device">Ex : palan / treuil</span>
                    <span class="chip support">Ex : potence / portique</span>
                    <span class="chip accessory">Ex : élingues / pinces</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="opts">
              <div class="opt">
                <input id="q1_lift" type="checkbox" />
                <label for="q1_lift">
                  <b>Lever la charge</b>
                  <span class="small">Soulever verticalement (montée / descente).</span>
                  <div class="meta">
                    <span class="chip device">Oriente : appareils</span>
                    <span class="chip device">Ex : palan, treuil</span>
                  </div>
                </label>
              </div>

              <div class="opt">
                <input id="q1_move" type="checkbox" />
                <label for="q1_move">
                  <b>Déplacer la charge</b>
                  <span class="small">Déplacer la charge (souvent latéralement), sur un ou plusieurs emplacements.</span>
                  <div class="meta">
                    <span class="chip device">Oriente : translation</span>
                    <span class="chip device">Ex : chariot / rail</span>
                  </div>
                </label>
              </div>

              <div class="opt">
                <input id="q1_hook" type="checkbox" />
                <label for="q1_hook">
                  <b>Accrocher / saisir la charge</b>
                  <span class="small">Mettre en prise la charge pour lever ou maintenir.</span>
                  <div class="meta">
                    <span class="chip accessory">Oriente : accessoires</span>
                    <span class="chip accessory">Ex : élingues, pinces</span>
                  </div>
                </label>
              </div>

              <div class="opt">
                <input id="q1_support" type="checkbox" />
                <label for="q1_support">
                  <b>Supporter l’opération de levage</b>
                  <span class="small">Avoir (ou prévoir) une structure pour porter l’appareil.</span>
                  <div class="meta">
                    <span class="chip support">Oriente : supports</span>
                    <span class="chip support">Ex : potence, portique</span>
                  </div>
                </label>
              </div>
            </div>
          </div>

          <!-- Q2 -->
          <div class="section hidden" id="secQ2">
            <div class="qhead">
              <div>
                <h2>Q2 — Quel type de déplacement ?</h2>
                <div class="hint">Plus le mouvement est complexe, plus la solution est spécialisée.</div>
              </div>
              <div class="tip" tabindex="0">i
                <div class="bubble">
                  <p class="btitle">Aide — Q2</p>
                  <p class="btxt">Choisissez ce qui ressemble le plus à votre geste : vertical seul, translation, multi-direction, basculement ou retournement.</p>
                </div>
              </div>
            </div>

            <div class="opts">
              <div class="opt">
                <input name="q2_mode" id="q2_vonly" type="radio" />
                <label for="q2_vonly">
                  <b>Verticalement uniquement</b>
                  <span class="small">Montée/descente sans déplacement latéral.</span>
                  <div class="meta">
                    <span class="chip device">Appareil : levage statique</span>
                  </div>
                </label>
              </div>

              <div class="opt">
                <input name="q2_mode" id="q2_h1" type="radio" />
                <label for="q2_h1">
                  <b>Horizontal — une direction</b>
                  <span class="small">Translation sur un axe (droite/gauche).</span>
                  <div class="meta">
                    <span class="chip device">Chariot / rail</span>
                  </div>
                </label>
              </div>

              <div class="opt">
                <input name="q2_mode" id="q2_hmulti" type="radio" />
                <label for="q2_hmulti">
                  <b>Horizontal — plusieurs directions</b>
                  <span class="small">Plusieurs positions dans la zone.</span>
                  <div class="meta">
                    <span class="chip support">Support mobile fréquent</span>
                    <span class="chip device">Appareil + mobilité</span>
                  </div>
                </label>
              </div>

              <div class="opt">
                <input name="q2_mode" id="q2_tilt" type="radio" />
                <label for="q2_tilt">
                  <b>Incliner / basculer</b>
                  <span class="small">Inclinaison volontaire (positionnement).</span>
                  <div class="meta">
                    <span class="chip risk">Souvent à vérifier</span>
                  </div>
                </label>
              </div>

              <div class="opt">
                <input name="q2_mode" id="q2_flip" type="radio" />
                <label for="q2_flip">
                  <b>Retourner la charge</b>
                  <span class="small">Retournement complet (180°).</span>
                  <div class="meta">
                    <span class="chip risk">Hors standard</span>
                  </div>
                </label>
              </div>

              <div class="opt">
                <input name="q2_mode" id="q2_unknown" type="radio" />
                <label for="q2_unknown">
                  <b>Je ne sais pas</b>
                  <span class="small">On continue, mais une validation technique est probable.</span>
                  <div class="meta">
                    <span class="chip risk">Clarté ↓</span>
                  </div>
                </label>
              </div>
            </div>
          </div>

          <!-- Q3 -->
          <div class="section hidden" id="secQ3">
            <div class="qhead">
              <div>
                <h2>Q3 — Où se déroule l’opération ?</h2>
                <div class="hint">La localisation oriente vers support fixe, mobile ou transportable.</div>
              </div>
              <div class="tip" tabindex="0">i
                <div class="bubble">
                  <p class="btitle">Aide — Q3</p>
                  <p class="btxt">
                    Poste = même endroit. Zone = même espace. Plusieurs postes = emplacements distincts.
                    Option multi-sites = sites différents.
                  </p>
                </div>
              </div>
            </div>

            <div class="opts">
              <div class="opt">
                <input name="q3_loc" id="q3_station" type="radio" />
                <label for="q3_station">
                  <b>Sur un poste de travail dédié</b>
                  <span class="small">Toujours au même endroit.</span>
                  <div class="meta">
                    <span class="chip support">Supports fixes</span>
                  </div>
                </label>
              </div>

              <div class="opt">
                <input name="q3_loc" id="q3_zone" type="radio" />
                <label for="q3_zone">
          